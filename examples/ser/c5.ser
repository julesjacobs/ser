request incr {
    while(X == 2) { yield };
    y := X;
    yield;
    X := y + 1
}

request decr {
    while(X == 0) { yield };
    y := X;
    yield;
    X := y - 1
}